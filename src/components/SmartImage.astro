---
import { Image } from 'astro:assets';

interface Props {
  src: any,
  alt: string,
  title?: string,
  widths?: Array<number>,
  sizes?: string,
  width?: number,
  height?: number,
  pictureAttributes?: {
    class: string
  },
  class?: string,
  loading?: 'eager' | 'lazy' | null | undefined,
  'data-blok-c'?: any,
  'data-blok-uuid'?: any,
}

const {
  src,
  widths,
  sizes,
  alt,
  title,
  pictureAttributes,
  loading,
} = Astro.props;

if (!src) {
  return;
}
---
<Image
  src={src}
  inferSize
  format="avif"
  quality="high"
  widths={widths || [1593, 1080, 800, 420]}
  sizes={sizes || '(max-width: 650px) 420px, (max-width: 1024px) 800px, (max-width: 1280px) 1080px, 1593px'}
  alt={alt}
  title={title || alt}
  class={(pictureAttributes?.class || '') + ' ' + (Astro.props?.class || '')}
  loading={loading || 'lazy'}
/>
